#include <stdio.h>
#include <string.h>
#include <ctype.h>

#define MAX 100

// Predefined keywords list
const char *keywords[] = {
    "if", "else", "while", "for", "int", "float", "char", "return"
};
int keywordCount = 8;

// Function to check if a word is a keyword
int isKeyword(char *word) {
    for (int i = 0; i < keywordCount; i++) {
        if (strcmp(word, keywords[i]) == 0) {
            return 1;
        }
    }
    return 0;
}

// Function to check if a word is an identifier
int isIdentifier(char *word) {
    // First char must be letter or underscore
    if (!(isalpha(word[0]) || word[0] == '_'))
        return 0;

    // Remaining chars can be letters, digits, underscore
    for (int i = 1; word[i] != '\0'; i++) {
        if (!(isalnum(word[i]) || word[i] == '_'))
            return 0;
    }

    return 1;
}

int main() {
    char line[MAX];
    char temp[MAX];
    int i = 0, j = 0;

    printf("Enter a sentence of code: ");
    fgets(line, sizeof(line), stdin);

    while (line[i] != '\0') {
        // Skip delimiters
        if (isspace(line[i]) || line[i] == '(' || line[i] == ')' ||
            line[i] == '{' || line[i] == '}' || line[i] == ';' ||
            line[i] == '+' || line[i] == '-' || line[i] == '*' ||
            line[i] == '/' || line[i] == '=' || line[i] == '<' ||
            line[i] == '>' || line[i] == '%' || line[i] == ',') {

            if (j != 0) { // End of a token
                temp[j] = '\0';

                if (isKeyword(temp))
                    printf("%s : Keyword\n", temp);
                else if (isIdentifier(temp))
                    printf("%s : Identifier\n", temp);
                else
                    printf("%s : (Not classified as keyword or identifier)\n", temp);

                j = 0;
            }
            i++;
        } else {
            temp[j++] = line[i++];
        }
    }

    // For last token if exists
    if (j != 0) {
        temp[j] = '\0';
        if (isKeyword(temp))
            printf("%s : Keyword\n", temp);
        else if (isIdentifier(temp))
            printf("%s : Identifier\n", temp);
        else
            printf("%s : (Not classified as keyword or identifier)\n", temp);
    }

    return 0;
}
